<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dong Done - ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∞‡πÄ‡∏•‡∏î‡∏≠‡∏á</title>
<link href="https://fonts.googleapis.com/css2?family=Prompt:wght@300;400;600&display=swap" rel="stylesheet">
<style>
body{
  font-family: 'Prompt', sans-serif;
  margin:0;
  background:#fff7f0;
}
header{
  background:#ff8c42;
  padding:15px;
  text-align:center;
  color:white;
  font-size:22px;
  font-weight:600;
}
.logo{
  width:120px;
}
.container{
  padding:15px;
}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(180px,1fr));
  gap:15px;
}
.card{
  background:white;
  border-radius:12px;
  box-shadow:0 4px 10px rgba(0,0,0,0.1);
  padding:10px;
  text-align:center;
}
.card img{
  width:100%;
  height:120px;
  object-fit:cover;
  border-radius:10px;
}
button{
  background:#ff8c42;
  color:white;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  cursor:pointer;
}
button:hover{opacity:0.9}
.cart-icon{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#ff8c42;
  color:white;
  padding:15px;
  border-radius:50%;
  font-size:20px;
  cursor:pointer;
}
.popup{
  position:fixed;
  top:50%;
  left:50%;
  transform:translate(-50%,-50%);
  background:white;
  width:90%;
  max-width:400px;
  padding:20px;
  border-radius:12px;
  box-shadow:0 5px 20px rgba(0,0,0,0.3);
  display:none;
}
input,textarea{
  width:100%;
  padding:8px;
  margin:5px 0;
  border-radius:6px;
  border:1px solid #ccc;
}
.dashboard{
  margin-top:30px;
  background:white;
  padding:15px;
  border-radius:10px;
}
@media(max-width:600px){
  body{font-size:14px;}
}
</style>
</head>
<body>

<header>
<img src="logo.png" class="logo"><br>
Dong Done - ‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏∞‡πÄ‡∏•‡∏î‡∏≠‡∏á
</header>

<div class="container">

<h3>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
<div class="products" id="productList"></div>

<div class="dashboard">
<h3>Dashboard ‡πÅ‡∏°‡πà‡∏Ñ‡πâ‡∏≤</h3>
<div id="orderList"></div>
</div>

</div>

<div class="cart-icon" onclick="openCart()">üõí</div>

<div class="popup" id="cartPopup">
<h3>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h3>
<div id="cartItems"></div>
<p>‡∏Ñ‡πà‡∏≤‡∏™‡πà‡∏á: <span id="shipping"></span> ‡∏ö‡∏≤‡∏ó</p>
<h4>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="totalPrice"></span> ‡∏ö‡∏≤‡∏ó</h4>
<button onclick="checkout()">‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô</button>
<button onclick="closeCart()">‡∏õ‡∏¥‡∏î</button>
</div>

<div class="popup" id="checkoutPopup">
<h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</h3>
<input id="name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏ã‡∏∑‡πâ‡∏≠">
<textarea id="address" placeholder="‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà"></textarea>
<input id="phone" placeholder="‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£">
<input type="file" id="slip">
<button onclick="submitOrder()">‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
<a href="https://line.me/" target="_blank">
<button>‡∏™‡∏±‡πà‡∏á‡∏ú‡πà‡∏≤‡∏ô LINE OA</button>
</a>
</div>

<script>

const products = [
{name:"‡∏Å‡∏∏‡πâ‡∏á‡∏î‡∏≠‡∏á",price:89,img:"https://source.unsplash.com/300x200/?shrimp"},
{name:"‡πÅ‡∏ã‡∏•‡∏°‡∏≠‡∏ô‡∏î‡∏≠‡∏á",price:99,img:"https://source.unsplash.com/300x200/?salmon"},
{name:"‡∏õ‡∏•‡∏≤‡∏´‡∏°‡∏∂‡∏Å‡∏î‡∏≠‡∏á",price:89,img:"https://source.unsplash.com/300x200/?squid"},
{name:"‡∏õ‡∏π‡πÑ‡∏Ç‡πà‡∏î‡∏≠‡∏á",price:129,img:"https://source.unsplash.com/300x200/?crab"},
{name:"‡πÅ‡∏°‡∏á‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏∏‡∏ô‡∏î‡∏≠‡∏á",price:79,img:"https://source.unsplash.com/300x200/?jellyfish"},
{name:"‡πÅ‡∏°‡∏á‡∏Å‡∏£‡∏∞‡∏û‡∏£‡∏∏‡∏ô‡∏´‡∏±‡∏ß‡∏Å‡∏£‡∏∞‡∏ô‡∏∏‡∏ô‡∏î‡∏≠‡∏á",price:159,img:"https://source.unsplash.com/300x200/?seafood"},
{name:"‡∏ä‡∏∏‡∏î‡πÑ‡∏Ç‡πà‡∏î‡∏≠‡∏á+‡∏Ç‡πâ‡∏≤‡∏ß‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô+‡∏™‡∏≤‡∏´‡∏£‡πà‡∏≤‡∏¢",price:59,img:"https://source.unsplash.com/300x200/?rice"}
];

let cart = JSON.parse(localStorage.getItem("cart")) || [];

function renderProducts(){
  const list = document.getElementById("productList");
  list.innerHTML="";
  products.forEach((p,i)=>{
    list.innerHTML+=`
    <div class="card">
      <img src="${p.img}">
      <h4>${p.name}</h4>
      <p>${p.price} ‡∏ö‡∏≤‡∏ó</p>
      <input type="number" min="1" value="1" id="qty${i}">
      <button onclick="addToCart(${i})">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
    </div>
    `;
  });
}

function addToCart(i){
  const qty = document.getElementById("qty"+i).value;
  cart.push({...products[i],qty:parseInt(qty)});
  localStorage.setItem("cart",JSON.stringify(cart));
  alert("‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÅ‡∏•‡πâ‡∏ß");
}

function openCart(){
  document.getElementById("cartPopup").style.display="block";
  renderCart();
}

function closeCart(){
  document.getElementById("cartPopup").style.display="none";
}

function renderCart(){
  let items="";
  let total=0;
  cart.forEach(c=>{
    total+=c.price*c.qty;
    items+=`<p>${c.name} x ${c.qty} = ${c.price*c.qty} ‡∏ö‡∏≤‡∏ó</p>`;
  });
  let shipping = total>300?0:50;
  document.getElementById("cartItems").innerHTML=items;
  document.getElementById("shipping").innerText=shipping;
  document.getElementById("totalPrice").innerText=total+shipping;
}

function checkout(){
  closeCart();
  document.getElementById("checkoutPopup").style.display="block";
}

function submitOrder(){
  const order={
    name:document.getElementById("name").value,
    address:document.getElementById("address").value,
    phone:document.getElementById("phone").value,
    cart:cart,
    date:new Date().toLocaleString()
  };
  let orders=JSON.parse(localStorage.getItem("orders"))||[];
  orders.push(order);
  localStorage.setItem("orders",JSON.stringify(orders));
  cart=[];
  localStorage.removeItem("cart");
  alert("‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à");
  location.reload();
}

function renderOrders(){
  let orders=JSON.parse(localStorage.getItem("orders"))||[];
  let html="";
  orders.forEach(o=>{
    html+=`<div style="border-bottom:1px solid #ddd;padding:5px">
    <b>${o.name}</b><br>
    ${o.phone}<br>
    ${o.date}
    </div>`;
  });
  document.getElementById("orderList").innerHTML=html;
}

renderProducts();
renderOrders();

</script>

</body>
</html>